# BikeNavigation

## Arduino code

Runs BikeNavigation BLE profile and controls LED matrix display.

### Arduino source files

* *ble_display.ino*: Arduino sketch file. Contains code for the board initialization and main loop, including reading of incoming commands from Bluetooth controller and getting data from the compass.
* *icons.h*: Header file containing data structures and types needed for storing LED patterns for all the icons that can be shown on the LED matrix. C++ code for patterns can be generated by code generation script (see below).
* *compass.h*: Header file describing the class to be used to deal with compass.
* *compass.cpp*: Source file containing implementation of the Compass class.

### Code generation script

Python script `generate\_icons\_led\_matrix\_studio.py` can be used to convert the output of [LED Matrix Studio](http://maximumoctopus.com/electronics/builder.htm) to the C++ structures which can be used directly in code. Usage:

    ./generate\_icons\_led\_matrix\_studio.py filename outname

Where:

* *filename*: LED patterns file generated with [LED Matrix Studio](http://maximumoctopus.com/electronics/builder.htm)
* *outname*: name of variable where LED patterns will be stored in C++ code

Generated code should be added to `icons.h` file. Also command codes and function converting command code to the icon should be adapted to the new code.
